# Ruby / Урок 04. Переменные

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.Практика.md)

***

## 1. Идентификаторы Ruby

***Идентификатор*** - обычное имя используемое **Ruby** для присвоения имен переменным, методам, классам и т д.

**Ruby** — регистро-зависимый язык, прописные и строчные буквы в идентификаторах являются различными. 

>Все ключевые слова языка, за двумя исключениями, пишутся в нижнем регистре.

Это означает, что RRam и RAM – два разных идентификатора в Ruby.

До версии 2.0 язык использовал множество символов 7-битной кодировки **ASCII**. 
Начиная с версии 2.0 поддерживается **Unicode**, по умолчанию файлы исходного кода используют кодировку **UTF-8**. 
Все буквенные символы **Unicode** допускается использовать в идентификаторах наравне с английскими буквами. 
Полностью поддерживаются **Unicode**-строки.

### 1.1. Зарезервированные слова

Список ключевых слов **Ruby**

|          |        |       |        |       |       |        |       |
|----------|--------|-------|--------|-------|-------|--------|-------|
| alias    | and    | BEGIN | begin  | break | case  | class  | def   |
| defined? | do     | else  | elsif  | END   | end   | ensure | false |
| for      | if     | in    | module | next  | nil   | not    | or    |
| redo     | rescue | retry | return | self  | super | then   | true  |
| undef    | unless | until | when   | while | yield |        |       |

Эти зарезервированные слова не могут использоваться как постоянные или переменные имена. 
Однако они могут использоваться в качестве имен методов.

### 1.2. Соглашения об именовании

В языках программирования используются три основных стиля именования:

* *snake case (snake - змея)*
  
Между словами ставится знак подчеркивания (_).

*Пример*

```ruby
client_age = 10 
user_password = '123456' 
user_password_expiration_date = '12-12-2022'
```

* *camel case (camel - верблюд)*
  
Слово начинается с маленькой буквы и разделяются с помощью больших букв. 

*Пример*

```javascript
clientAge = 10
userPassword = '123456' 
userPasswordExpirationDate = '12-12-2020'
```

* *kebab case (kebab - шашлык)*
  
Слова разделяются дефисом.

*Пример*

```html
<input type="text" name="login" data-error-highlightcolor="red">
```

В **Ruby** применяется **snake case** для именования переменных. 

Идентификаторы **Ruby** традиционно должны состоять из букв (A-Z, a-z), цифр (0-9) и 
знаков подчёркивания (_) и начинаться с буквы или знака подчёркивания. 
Идентификаторы **Ruby** не могут включать пробелы или неотображаемые символы, и не могут включать знаки пунктуации,
за исключением некоторых случаев.

Ruby использует соглашение об именовании:

* имена, начинающиеся с прописной буквы, обозначают **константы** и **классы**

* имена, начинающиеся со строчной буквы или одиночного знака подчёркивания, обозначают **локальные переменные** и **методы класса**

Также используются *префиксы* имён, определяющие *область видимости идентификатора*:

* префикс **@** обозначает переменную экземпляра

*Пример*

```ruby
@day_of_week = 'Monday'
@month = 'May'
@days = 10
```

* префикс **@@** обозначает переменную класса

```ruby
@@day_of_week = 'Monday'
@@month = 'May'
@@days = 10
```

* префикс **$** обозначает глобальную переменную или константу

```ruby
$day_of_week = 'Monday'
$month = 'May'
$days = 10
```

>Также он используется в именах предопределённых системных переменных.

* префикс **:** обозначает символ (экземпляр класса **Symbol**)

Для имён методов применяются *суффиксы*, обозначающие *назначение метода*:

* суффикс **!** обозначает деструктивный метод класса, 
то есть такой метод, вызов которого изменяет объект, для которого он вызван

* суффикс **?** обозначает предикат, 
то есть метод класса, возвращающий логическое значение

*Пример*

```ruby
obj.empty?        # объект пуст? (истина/ложь)
Numeric.nonzero?  # число не нуль? (истина/ложь)
obj.upcase!       # Перевести буквы в верхний регистр
obj.ident!        # Добавить отступы в строку
obj.capitalize!   # Сделать все слова с заглавной буквы
```

### 1.3. Разделители 

Пробелы, знаки табуляции, символы новой строки сами по себе лексемами не являются, а используются для разделения лексем,
которые без них объединились бы в большую лексему. Кроме этой основной функции по разделению лексем, пробельные символы, 
обычно игнорируются интерпретатором **Ruby** (в отличие от программ на **Python**) 
и используются лишь для форматирования программ, облегчая их чтение и понимание.

Однако, они используются для интерпретации неоднозначных утверждений.
Интерпретации этого типа вызывают предупреждения, когда опция -w включена.

*Пример:*

```ruby
a + b
a  +b
```

*Результат:*

Первая строка интерпретируется как a+b (Сложение двух локальных переменных).
Вторая строка интерпретируется как  a(+b) (Вызов метода).

#### Символ новой строки

**Ruby** интерпретирует точки с запятой и символы новой строки как конец оператора.
Однако, если **Ruby** встречает операторы, такие как +, – или обратная косая черта в конце строки,
они указывают на продолжение оператора.

Начиная с **Ruby** 1.9 правила завершения оператора изменились.
Если первый не являющийся пробелом символом строки будет точка, то строка рассматривается как строка-продолжение, 
и предшествующий символ новой строки не является признаком завершения оператора.

#### Пробел

При определенных обстоятельствах скобки в вызовах методов могут быть опущены.
Это дает использовать методы в качестве операторов, что является важной составляющей **Ruby**.
Однако открывается опасная зависимость от скобок.

*Пример:*

```ruby
f(1+2)+3
f (1+2)+3
```

*Результат:*

Первая строка интерпретируется как вычисление функции от 1+2 и далее сложение с 3.
Вторая строка интерпретируется как вычисление функции от (1+2)+3.


***

## 2. Переменные

***Переменные*** – ячейки памяти, в которых хранятся любые данные, которые будут использоваться любой программой.

В **Ruby** переменные не имеют типа, однако объекты на которые ссылаются переменные, тип имеют. 

### Область видимости

Также используются *префиксы* имён, определяющие *область видимости идентификатора*:

* префикс **@** обозначает переменную экземпляра

*Пример*

```ruby
@day_of_week = 'Monday'
@month = 'May'
@days = 10
```

* префикс **@@** обозначает переменную класса

```ruby
@@day_of_week = 'Monday'
@@month = 'May'
@@days = 10
```

* префикс **$** обозначает глобальную переменную или константу

```ruby
$day_of_week = 'Monday'
$month = 'May'
$days = 10
```


***

Практика [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.Практика.md)