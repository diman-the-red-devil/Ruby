# Ruby / Урок 02. Установка

[![Содержание](https://img.shields.io/badge/-%D0%A1%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D0%BD%D0%B8%D0%B5-purple)](README.md)
[![Вперед](https://img.shields.io/badge/-%D0%92%D0%BF%D0%B5%D1%80%D0%B5%D0%B4-brightgreen)](2.Задание.md)

***

## 1. Реализация Ruby

Для **Ruby** существуют несколько реализаций: 

* официальный интерпретатор, написанный на Си 
* *JRuby* — реализация для Java
* *IronRuby* - реализация для платформы .NET 
* *Rubinius* — реализация написанная в основном на Ruby и базирующаяся на идеях Smalltalk-80 
* *MagLev* — реализация базирующаяся на Smalltalk разработка от компании Gemstone
* *Blue Ruby* — реализация Ruby для виртуальной машины ABAP
* *MacRuby* — реализация для Mac OS с фокусом на максимальную интеграцию с возможностями операционной системы 
* *mruby* — реализация для встраивания в программы

Официальный интерпретатор портирован под большинство платформ, 
включая **Unix**, **Microsoft Windows** (в том числе **Windows CE**), **DOS**, **Mac OS X**, **OS/2**, 
**Amiga**, **BeOS**, **Syllable**, **Acorn RISC OS** и другие. 

***

## 2. Установка Ruby на Windows

Для **Windows** существует специализированный установщик **RubyInstaller**.

***RubyInstaller*** — это автономный установщик, который работает в ОС **Windows**, 
содержит язык программирования **Ruby**, среду выполнения для него, 
базовый набор гемов и расширений и встраивается в установку **MSYS2**.

**RubyInstaller** соединяет возможности стандартных виндоусовских программ 
с функциональным дистрибутивом **MSYS2** и **MINGW**-библиотеками. 

Шаги:

1. Скачать **RubyInstaller**

Для установки перейдите в раздел загрузки [RubyInstaller](https://rubyinstaller.org/downloads/)

В разделе загрузки будет много вариантов установщика, которые различаются не только версиями, 
но и составом скаченных файлов. Исполнимые файлы являются самодостаточными установщиками для **Windows**, 
которые включают язык **Ruby**, окружение выполнения, важную документацию и прочее.

Рекомендуется установщик **Ruby+Devkit * (x64)**. 
Он предоставляет самое большое число совместимых gem (пакеты **Ruby**) и устанавливает **MSYS2-Devkit** вместе с **Ruby**, 
благодаря чему gem с C-расширениями могут быть скомпилированы сразу после завершения установки.

2. Запустить скаченный файл

3. Выбрать настройки

Можно выбрать следующие настройки:

* папка установки 

* *Add Ruby executables to your PATH*

Добавление каталога с исполняемыми файлами **Ruby** в системную переменную, 
чтобы не указывать при каждом запуске скрипта **Ruby** полный путь до интерпретатора скриптов.

* *Associate .rb and .rbw files with Ruby installation*

Связывание файлов с расширениями .rb и .rbw с установленным Ruby, 
чтобы файлы **Ruby** можно было запускать двойным кликом или набрав имя скрипта в командной строке.

* *Use UTF-8 as default external encoding*

Использование кодировки UTF-8 в качестве внешней кодировки по умолчанию.

Рекоммендуется выбрать все три галочки, а в качестве папки установки указать **C:\Ruby26**.

* *MSYS2*

Сам пакет **Ruby** занимает немного места, но много места занимает предлагаемый к установке набор инструментов разработчика **MSYS2**. 
Настоятельно рекомендуется установить **MSYS2**, поскольку кроме упомянутой выше возможности компилировать пакеты для Ruby, 
**MSYS2** обеспечивает консольное окружение с функциями Linux (примерно как это делает Cygwin, но с дополнительными возможностями).

Оставить галочку на последнем окне для настройки инструментов разработчика **MSYS2** и нажать Finish.

4. Настроить **MSYS2**

* *MSYS2 base installation*

Базовая установка **MSYS2**.

* *MSYS2 system update (optional)*

Обновление системы **MSYS2** (необязательно).

* *MSYS2 and MINGW development toolchain*

Инструменты разработчика **MSYS2** и **MINGW**.

Просто нажимаем ENTER для выполнения всех трёх действий.
Всё завершено, для выхода нажмите ENTER.

***

## 3. Проверка после установки Ruby

Шаги:
 
* Открыть CMD 

* Ввести команду *ruby -v*

```bash
ruby -v
```

* Если установка прошла успешно, то будет выведено сообщение

```text
ruby 2.7.2p137 (2020-10-01 revision 5445e04352) [x64-mingw32]
```

***

## 4. Менеджер пакетов RubyGems 

***RubyGems*** — это менеджер пакетов для Ruby. 
С помощью него можно установить различные программы и их зависимости, 
установку можно делать как из исходного кода на локальной системе, так и с удалённых источников приложений.

Показанная выше установка **Ruby** также устанавливает и gem.
Чтобы в этом убедиться выполните команду *gem --help*.

```bash
gem --help
```

В результате можно увидеть справку по использованию gem.

```text
RubyGems is a sophisticated package manager for Ruby.  This is a
basic help message containing pointers to more information.

  Usage:
    gem -h/--help
    gem -v/--version
    gem command [arguments...] [options...]

  Examples:
    gem install rake
    gem list --local
    gem build package.gemspec
    gem help install

  Further help:
    gem help commands            list all 'gem' commands
    gem help examples            show some examples of usage
    gem help gem_dependencies    gem dependencies file guide
    gem help platforms           gem platforms guide
    gem help <COMMAND>           show help on COMMAND
                                   (e.g. 'gem help install')
    gem server                   present a web page at
                                 http://localhost:8808/
                                 with info about installed gems
  Further information:
    https://guides.rubygems.org
```

Чтобы вывести все доступные команды gem, выполните:

```bash
gem help commands
```

Чтобы установить пакет, выполните:

```bash
gem install ИМЯ_ПРОГРАММЫ
```

Чтобы показать справку о команде установки, выполните:

```bash
gem help install
```

***

## 5. Интерактивная командная оболочка Interactive Ruby Shell

С официальной версией интерпретатора **Ruby** поставляется командная оболочка **Interactive Ruby Shell (irb)**. 
Запускаемая командой irb в окне терминала (интерфейсе командной строки), 
она позволяет тестировать код программы очень быстро (построчно):

```bash
C:\Users\diman>irb
irb(main):001:0> "Hello, World"
=> "Hello, World"
irb(main):002:0> 2 ** 256 # ** - оператор возведения в степень
=> 115792089237316195423570985008687907853269984665640564039457584007913129639936
```

Программа irb выводит результат каждой строки после символов =>. 
В приведённых выше примерах для наглядности применяется аннотирование — 
результаты строк программы записываются в комментариях после =>. 
Имитацию irb можно запустить непосредственно в браузере.

***

Задание [![Перейти](https://img.shields.io/badge/-%D0%9F%D0%B5%D1%80%D0%B5%D0%B9%D1%82%D0%B8-blue)](2.Задание.md)